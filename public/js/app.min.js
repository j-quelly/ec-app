!function(){function a(a){a.when("/",{templateUrl:"partial/main"}).when("/assignment/:id",{templateUrl:"partial/assignment",controller:"SubmissionController"}).otherwise({redirectTo:"/"})}a.$inject=["$routeProvider"],angular.module("edmodo",["ngRoute","ui.materialize","ngAnimate","ngCookies"]).config(a)}(),function(){function a(a,b,c){a.assignments=[],a.assignmentForm={},a.today=new Date,a.createAssignment=function(){var c={id:(new Date).getTime().toString().substring(5,13),title:a.assignmentForm.title,due_at:a.assignmentForm.due_at,description:a.assignmentForm.description};b.createAssignment(c).then(function(b){a.assignments=b})["catch"](function(){a.error=!0,a.errorMessage="Cannot create assignment, please try again."}),a.assignmentForm.title="",a.assignmentForm.due_at="",a.assignmentForm.description=""},b.getAssignments().then(function(b){a.assignments=b})["catch"](function(){a.error=!0,a.errorMessage="Cannot get assignments, please try again."}),a.selectAssignment=function(a){c.path(a)},a.activate=function(b){a.selected=b},a.isActive=function(b){return a.selected===b},a.getPathId=function(){var a=c.path().split("/")[2];return a}}function b(a,b,c,d){a.assignment={},a.submissions=[],a.loaded=!1,a.showTabs=!1,c.getAssignment(b.id).then(function(b){a.assignment=b})["catch"](function(){a.error=!0,a.errorMessage="Cannot get assignment, please try again."}),d.getSubmissions(b.id).then(function(b){a.submissions=b,a.loaded=!0,a.showTabs=!0,a.noSubmissions=b.length>0?!1:"Sorry, there are no submissions to display at this time."})["catch"](function(){a.error=!0,a.errorMessage="Cannot get submissions, please try again."})}a.$inject=["$scope","AssignmentService","$location"],b.$inject=["$scope","$routeParams","AssignmentService","SubmissionService"],angular.module("edmodo").controller("AssignmentController",a),angular.module("edmodo").controller("SubmissionController",b)}(),function(){function a(a,b,c){var d={},e=c.get("localStorage"),f=e?JSON.parse(e):[];return d.createAssignment=function(d){var e=a.defer();return f.push(d),c.put("localStorage",JSON.stringify(f)),b.get("https://api.edmodo.com/assignments?access_token=12e7eaf1625004b7341b6d681fa3a7c1c551b5300cf7f7f3a02010e99c84695d").success(function(a,b){e.resolve(a.concat(f))}).error(function(a){e.reject()}),e.promise},d.getAssignments=function(){var c=a.defer();return b.get("https://api.edmodo.com/assignments?access_token=12e7eaf1625004b7341b6d681fa3a7c1c551b5300cf7f7f3a02010e99c84695d").success(function(a,b){c.resolve(a.concat(f))}).error(function(a){c.reject()}),c.promise},d.getAssignment=function(c){var d=a.defer(),e=f.filter(function(a){return a.id==c})[0];return void 0!==e?d.resolve(e):b.get("https://api.edmodo.com/assignments/"+c+"/?access_token=12e7eaf1625004b7341b6d681fa3a7c1c551b5300cf7f7f3a02010e99c84695d").success(function(a,b){d.resolve(a)}).error(function(a){d.reject()}),d.promise},d}a.$inject=["$q","$http","$cookies"],angular.module("edmodo").factory("AssignmentService",a)}(),function(){function a(a,b){var c={};return c.getSubmissions=function(c){var d=a.defer();return b.get("https://api.edmodo.com/assignment_submissions?assignment_id="+c+"&assignment_creator_id=73240721&access_token=12e7eaf1625004b7341b6d681fa3a7c1c551b5300cf7f7f3a02010e99c84695d").success(function(a,b){d.resolve(a)}).error(function(a){d.reject()}),d.promise},c}a.$inject=["$q","$http"],angular.module("edmodo").factory("SubmissionService",a)}(),function(){function a(){return{restrict:"A",link:function(a,b,c){var d=window.innerWidth>0?window.innerWidth:screen.width;$(".button-collapse").sideNav({menuWidth:240,edge:"left",closeOnClick:992>=d})}}}function b(){return{restrict:"A",link:function(a,b,c){a.$watch("error",function(){a.error&&Materialize.toast(a.errorMessage,5e3,"error")}),a.$watch("success",function(){a.success&&Materialize.toast(a.successMessage,5e3,"success")})}}}angular.module("edmodo").directive("tdSidebar",a),angular.module("edmodo").directive("edToasts",b)}();